[
  {
    "conditions": {
      "target.mappable.terrain": { "is": "sown" },
      "or": [
        { "season": { "is": "summer" } },
        { "season": { "is": "spring" }, "time_of_day": { "is": "night" } }
      ]
    },
    "event": {
      "rules": {
        "target": [
          { "event": { "mappable": { "set": { "terrain": "growing" } } } }
        ]
      }
    }
  },
  {
    "conditions": {
      "target.mappable.terrain": { "is": "growing" },
      "or": [
        { "season": { "is": "autumn" } },
        { "season": { "is": "summer" }, "time_of_day": { "is": "night" } }
      ]
    },
    "event": {
      "rules": {
        "target": [
          { "event": { "mappable": { "set": { "terrain": "harvestable" } } } }
        ]
      }
    }
  },
  {
    "conditions": {
      "target.mappable.terrain": {
        "or": [
          { "is": "growing" },
          { "is": "harvestable" },
          { "is": "sown" },
          { "is": "ploughed" }
        ]
      },
      "or": [
        { "season": { "is": "winter" } },
        { "season": { "is": "autumn" }, "time_of_day": { "is": "night" } }
      ]
    },
    "event": {
      "rules": {
        "target": [
          { "event": { "mappable": { "set": { "terrain": "dirt" } } } }
        ]
      }
    }
  },
  {
    "hidden": true,
    "conditions": {
      "target.personable": "exists",
      "target.traits.values": { "has": "eaten" }
    },
    "event": {
      "rules": {
        "target": [
          { "event": { "traits.values": { "remove": "hungry" } } },
          { "event": { "traits.values": { "remove": "starving" } } }
        ]
      }
    }
  },
  {
    "conditions": {
      "time_of_day": { "is": "night" },
      "target.personable": "exists",
      "target.traits.values": {
        "not": {
          "or": [
            { "has": "eaten" },
            { "has": "hungry" },
            { "has": "starving" }
          ]
        }
      }
    },
    "event": {
      "summary": "turn.hunger",
      "level": "warning",
      "rules": {
        "target": [
          { "event": { "traits.values": { "add": { "hungry": true } } } }
        ]
      }
    }
  },
  {
    "conditions": {
      "time_of_day": { "is": "night" },
      "target.personable": "exists",
      "target.traits.values": {
        "has": "hungry",
        "not": { "has": "eaten" }
       }
    },
    "event": {
      "summary": "turn.starve",
      "level": "warning",
      "rules": {
        "target": [
          { "event": { "traits.values": { "remove": "hungry", "add": { "starving": true } } } }
        ]
      }
    }
  },
  {
    "conditions": {
      "time_of_day": { "is": "night" },
      "target.personable": "exists",
      "target.traits.values": {
        "has": "starving",
        "not": { "has": "eaten" }
       }
    },
    "event": {
      "summary": "turn.die",
      "level": "warning",
      "rules": {
        "target": [
          { "event": { "personable": { "die": { "hunger": true } } } }
        ]
      }
    }
  }
]
